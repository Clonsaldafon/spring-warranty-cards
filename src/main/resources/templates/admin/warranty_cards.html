<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Гарантийные талоны</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <div th:replace="components/admin_header :: header"></div>

        <div class="container">
            <h2 class="mb-4">Гарантийные талоны</h2>

            <a href="/admin/warranty-cards/create" class="btn btn-success mb-3">Добавить талон</a>

            <ul class="nav nav-pills mb-3" id="warrantyTabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="active-warranty-tab" data-bs-toggle="tab"
                       href="#active-warranty" role="tab">Активная гарантия</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="expired-warranty-tab" data-bs-toggle="tab"
                       href="#expired-warranty" role="tab">Истекшая гарантия</a>
                </li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane fade show active" id="active-warranty" role="tabpanel">
                    <table class="table table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>ID гарантии</th>
                                <th>ID техники</th>
                                <th>Техника</th>
                                <th>Серийный номер</th>
                                <th>Начало</th>
                                <th>Окончание</th>
                                <th>Сервисный центр</th>
                                <th>Действия</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="card : ${activeWarrantyCards}">
                                <td th:text="${card.id}"></td>
                                <td th:text="${card.homeApplianceId}"></td>
                                <td th:text="${card.homeApplianceTitle}"></td>
                                <td th:text="${card.homeApplianceSerialNumber}"></td>
                                <td th:text="${card.startedAt}"></td>
                                <td th:text="${card.endedAt}"></td>
                                <td th:text="${card.serviceCenterTitle}"></td>
                                <td>
                                    <a th:href="'/admin/warranty-cards/edit/' + ${card.id}"
                                       class="btn btn-sm btn-warning">
                                        Изменить
                                    </a>
                                    <form th:action="'/admin/warranty-cards/delete/' + ${card.id}"
                                          method="post" class="d-inline">
                                        <button class="btn btn-sm btn-danger">Удалить</button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="tab-pane fade" id="expired-warranty" role="tabpanel">
                    <table class="table table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>ID гарантии</th>
                                <th>ID техники</th>
                                <th>Техника</th>
                                <th>Серийный номер</th>
                                <th>Начало</th>
                                <th>Окончание</th>
                                <th>Сервисный центр</th>
                                <th>Действия</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="card : ${expiredWarrantyCards}">
                                <td th:text="${card.id}"></td>
                                <td th:text="${card.homeApplianceId}"></td>
                                <td th:text="${card.homeApplianceTitle}"></td>
                                <td th:text="${card.homeApplianceSerialNumber}"></td>
                                <td th:text="${card.startedAt}"></td>
                                <td th:text="${card.endedAt}"></td>
                                <td th:text="${card.serviceCenterTitle}"></td>
                                <td>
                                    <a th:href="'/admin/warranty-cards/edit/' + ${card.id}"
                                       class="btn btn-sm btn-warning">
                                        Изменить
                                    </a>
                                    <form th:action="'/admin/warranty-cards/delete/' + ${card.id}"
                                          method="post" class="d-inline">
                                        <button class="btn btn-sm btn-danger">Удалить</button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
