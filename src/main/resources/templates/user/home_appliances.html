<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Техника</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <div th:replace="components/user_header :: header"></div>

        <div class="container mt-4">
            <ul class="nav nav-tabs" id="mainTabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="my-tab" data-bs-toggle="tab" href="#my" role="tab">
                        Моя техника
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="available-tab" data-bs-toggle="tab" href="#available" role="tab">
                        Доступная техника
                    </a>
                </li>
            </ul>

            <div class="tab-content mt-3">
                <div class="tab-pane fade show active" id="my" role="tabpanel">
                    <ul class="nav nav-pills mb-3" id="warrantyTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="active-warranty-tab" data-bs-toggle="tab"
                               href="#active-warranty" role="tab">Активная гарантия</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="expired-warranty-tab" data-bs-toggle="tab"
                               href="#expired-warranty" role="tab">Истекшая гарантия</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="without-warranty-tab" data-bs-toggle="tab"
                               href="#without-warranty" role="tab">Без гарантия</a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="active-warranty" role="tabpanel">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Название</th>
                                        <th>Серийный номер</th>
                                        <th>Дата покупки</th>
                                        <th>Срок действия гарантии</th>
                                        <th>Сервисный центр</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="appliance : ${activeHomeAppliances}">
                                        <td th:text="${appliance.title}"></td>
                                        <td th:text="${appliance.serialNumber}"></td>
                                        <td th:text="${appliance.warrantyStartedAt}"></td>
                                        <td th:text="${appliance.warrantyEndedAt}"></td>
                                        <td th:text="${appliance.serviceCenterTitle}"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="tab-pane fade" id="expired-warranty" role="tabpanel">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Название</th>
                                        <th>Серийный номер</th>
                                        <th>Дата покупки</th>
                                        <th>Срок действия гарантии</th>
                                        <th>Сервисный центр</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="appliance : ${expiredHomeAppliances}">
                                        <td th:text="${appliance.title}"></td>
                                        <td th:text="${appliance.serialNumber}"></td>
                                        <td th:text="${appliance.warrantyStartedAt}"></td>
                                        <td th:text="${appliance.warrantyEndedAt}"></td>
                                        <td th:text="${appliance.serviceCenterTitle}"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="tab-pane fade" id="without-warranty" role="tabpanel">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Название</th>
                                        <th>Серийный номер</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="appliance : ${homeAppliancesWithoutWarranties}">
                                        <td th:text="${appliance.title}"></td>
                                        <td th:text="${appliance.serialNumber}"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="available" role="tabpanel">
                    <h3 class="mt-3">Доступная техника</h3>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Название</th>
                                <th>Серийный номер</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="appliance : ${allHomeAppliances}">
                                <td th:text="${appliance.title}"></td>
                                <td th:text="${appliance.serialNumber}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>